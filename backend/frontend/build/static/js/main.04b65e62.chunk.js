(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{71:function(e,a,t){e.exports=t(92)},79:function(e,a,t){},80:function(e,a,t){},92:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(63),c=t.n(l),o=t(7),s=t(48),i=t(65),E=t(64);const m=Object(s.combineReducers)({productList:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{products:[]},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"PRODUCT_LIST_REQUEST":return{loading:!0,products:[]};case"PRODUCT_LIST_SUCCESS":return{loading:!1,products:a.payload.products,page:a.payload.page,pages:a.payload.pages};case"PRODUCT_LIST_FAIL":return{loading:!1,error:a.payload};default:return e}},productDetails:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{product:{reviews:[]}},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"PRODUCT_DETAILS_REQUEST":return{loading:!0,...e};case"PRODUCT_DETAILS_SUCCESS":return{loading:!1,product:a.payload};case"PRODUCT_DETAILS_FAIL":return{loading:!1,error:a.payload};default:return e}},productDelete:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"PRODUCT_DELETE_REQUEST":return{loading:!0};case"PRODUCT_DELETE_SUCCESS":return{loading:!1,success:!0};case"PRODUCT_DELETE_FAIL":return{loading:!1,error:a.payload};default:return e}},productCreate:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"PRODUCT_CREATE_REQUEST":return{loading:!0};case"PRODUCT_CREATE_SUCCESS":return{loading:!1,success:!0,product:a.payload};case"PRODUCT_CREATE_FAIL":return{loading:!1,error:a.payload};case"PRODUCT_CREATE_RESET":return{};default:return e}},productUpdate:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{product:{}},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"PRODUCT_UPDATE_REQUEST":return{loading:!0};case"PRODUCT_UPDATE_SUCCESS":return{loading:!1,success:!0,product:a.payload};case"PRODUCT_UPDATE_FAIL":return{loading:!1,error:a.payload};case"PRODUCT_UPDATE_RESET":return{product:{}};default:return e}},productReviewCreate:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"PRODUCT_CREATE_REVIEW_REQUEST":return{loading:!0};case"PRODUCT_CREATE_REVIEW_SUCCESS":return{loading:!1,success:!0};case"PRODUCT_CREATE_REVIEW_FAIL":return{loading:!1,error:a.payload};case"PRODUCT_CREATE_REVIEW_RESET":return{};default:return e}},productTopRated:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{products:[]},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"PRODUCT_TOP_REQUEST":return{loading:!0,products:[]};case"PRODUCT_TOP_SUCCESS":return{loading:!1,products:a.payload};case"PRODUCT_TOP_FAIL":return{loading:!1,error:a.payload};default:return e}},cart:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{cartItems:[],shippingAddress:{}},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"CART_ADD_ITEM":const t=a.payload,n=e.cartItems.find(e=>e.product===t.product);return n?{...e,cartItems:e.cartItems.map(e=>e.product===n.product?t:e)}:{...e,cartItems:[...e.cartItems,t]};case"CART_REMOVE_ITEM":return{...e,cartItems:e.cartItems.filter(e=>e.product!==a.payload)};case"CART_SAVE_SHIPPING_ADDRESS":return{...e,shippingAddress:a.payload};case"CART_SAVE_PAYMENT_METHOD":return{...e,paymentMethod:a.payload};case"CART_CLEAR_ITEMS":return{...e,cartItems:[]};default:return e}},userLogin:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"USER_LOGIN_REQUEST":return{loading:!0};case"USER_LOGIN_SUCCESS":return{loading:!1,userInfo:a.payload};case"USER_LOGIN_FAIL":return{loading:!1,error:a.payload};case"USER_LOG":return{};default:return e}},userRegister:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"USER_REGISTER_REQUEST":return{loading:!0};case"USER_REGISTER_SUCCESS":return{loading:!1,userInfo:a.payload};case"USER_REGISTER_FAIL":return{loading:!1,error:a.payload};case"USER_LOG":return{};default:return e}},userDetails:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{user:{}},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"USER_DETAILS_REQUEST":return{...e,loading:!0};case"USER_DETAILS_SUCCESS":return{loading:!1,user:a.payload};case"USER_DETAILS_FAIL":return{loading:!1,error:a.payload};case"USER_DETAILS_RESET":return{user:{}};default:return e}},userUpdateProfile:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"USER_UPDATE__PROFILE_REQUEST":return{loading:!0};case"USER_UPDATE_PROFILE_SUCCESS":return{loading:!1,success:!0,userInfo:a.payload};case"USER_UPDATE_PROFILE_FAIL":return{loading:!1,error:a.payload};case"USER_UPDATE_PROFILE_RESET":return{};default:return e}},userList:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{users:[]},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"USER_LIST_REQUEST":return{loading:!0};case"USER_LIST_SUCCESS":return{loading:!1,users:a.payload};case"USER_LIST_FAIL":return{loading:!1,error:a.payload};case"USER_LIST_RESET":return{users:[]};default:return e}},userDelete:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"USER_DELETE_REQUEST":return{loading:!0};case"USER_DELETE_SUCCESS":return{loading:!1,success:!0};case"USER_DELETE_FAIL":return{loading:!1,error:a.payload};default:return e}},userUpdate:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{user:{}},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"USER_UPDATE_REQUEST":return{loading:!0};case"USER_UPDATE_SUCCESS":return{loading:!1,success:!0};case"USER_UPDATE_FAIL":return{loading:!1,error:a.payload};case"USER_UPDATE_RESET":return{user:{}};default:return e}},orderCreate:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"ORDER_CREATE_REQUEST":return{loading:!0};case"ORDER_CREATE_SUCCESS":return{loading:!1,success:!0,order:a.payload};case"ORDER_CREATE_FAIL":return{loading:!1,error:a.payload};case"ORDER_CREATE_RESET":return{};default:return e}},orderDetails:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!0,orderItems:[],shippingAddress:{}},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"ORDER_DETAILS_REQUEST ":return{...e,loading:!0};case"ORDER_DETAILS_SUCCESS ":return{loading:!1,order:a.payload};case"ORDER_DETAILS_FAIL":return{loading:!1,error:a.payload};default:return e}},orderPay:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"ORDER_PAY_REQUEST ":return{loading:!0};case"ORDER_PAY_SUCCESS ":return{loading:!1,success:!0};case"ORDER_PAY_FAIL":return{loading:!1,error:a.payload};case"ORDER_PAY_RESET":return{};default:return e}},orderListMy:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{order:[]},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"ORDER_LIST_MY_REQUEST ":return{loading:!0};case"ORDER_LIST_MY_SUCCESS ":return{loading:!1,orders:a.payload};case"ORDER_LIST_MY_FAIL":return{loading:!1,error:a.payload};case"ORDER_LIST_MY_RESET":return{orders:[]};default:return e}},orderList:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{order:[]},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"ORDER_LIST_REQUEST ":return{loading:!0};case"ORDER_LIST_SUCCESS ":return{loading:!1,orders:a.payload};case"ORDER_LIST_FAIL":return{loading:!1,error:a.payload};default:return e}},orderDeliver:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"ORDER_DELIVER_REQUEST ":return{loading:!0};case"ORDER_DELIVER_SUCCESS ":return{loading:!1,success:!0};case"ORDER_DELIVER_FAIL":return{loading:!1,error:a.payload};case"ORDER_DELIVER_RESET":return{};default:return e}}}),u=localStorage.getItem("cartItems")?JSON.parse(localStorage.getItem("cartItems")):[],d=localStorage.getItem("userInfo")?JSON.parse(localStorage.getItem("userInfo")):null,p={cart:{cartItems:u,shippingAddress:localStorage.getItem("shippingAddress")?JSON.parse(localStorage.getItem("shippingAddress")):{}},userLogin:{userInfo:d}},g=[i.a];var y=Object(s.legacy_createStore)(m,p,Object(E.composeWithDevTools)(Object(s.applyMiddleware)(...g))),S=(t(79),t(80),t(96)),_=t(10),h=t(6),R=t(104),I=t(108),C=t(102),v=t(12),b=t(13),f=t(67);var T=function(){const[e,a]=Object(n.useState)("");let t=Object(h.D)();return r.a.createElement(b.a,{onSubmit:a=>{a.preventDefault(),e.trim()?t("/?keyword=".concat(e,"&page=1")):t(this.props.history.location.pathname)},className:"d-flex"},r.a.createElement(b.a.Control,{type:"text",name:"q",onChange:e=>a(e.target.value),className:"mr-sm-3 ml-sm-7"}),r.a.createElement(f.a,{type:"submit",variant:"outline-success",className:"p-1"},"Submit"))},O=t(103);const L=e=>async(a,t)=>{try{a({type:"USER_DETAILS_REQUEST"});const{userLogin:{userInfo:n}}=t(),r={headers:{"Content-type":"application/json",AUthorization:"Bearer ".concat(n.token)}},{data:l}=await O.a.get("/api/users/".concat(e,"/"),r);a({type:"USER_DETAILS_SUCCESS",payload:l})}catch(n){a({type:"USER_DETAILS_FAIL",payload:n.response&&n.response.data.detail?n.response.data.detail:n.message})}};var D=function(){const e=Object(o.c)(e=>e.userLogin),{userInfo:a}=e,t=Object(o.b)();return r.a.createElement("header",null,r.a.createElement(R.a,{bg:"dark",variant:"dark",expand:"lg",collapseOnSelect:!0},r.a.createElement(S.a,null,r.a.createElement(v.LinkContainer,{to:"/"},r.a.createElement(R.a.Brand,null,"KachaMorich")),r.a.createElement(R.a.Toggle,{"aria-controls":"basic-navbar-nav"}),r.a.createElement(R.a.Collapse,{id:"basic-navbar-nav"},r.a.createElement(T,null),r.a.createElement(I.a,{className:"mr-auto"},r.a.createElement(v.LinkContainer,{to:"/cart"},r.a.createElement(I.a.Link,null,r.a.createElement("i",{className:"fas fa-shopping-cart"}),"Cart")),a?r.a.createElement(C.a,{title:a.name,id:"username"},r.a.createElement(v.LinkContainer,{to:"/profile"},r.a.createElement(C.a.Item,null,"Profile")),r.a.createElement(C.a.Item,{onClick:()=>{t(e=>{localStorage.removeItem("userInfo"),e({type:"USER_LOG"}),e({type:"USER_DETAILS_RESET"}),e({type:"ORDER_LIST_MY_RESET"}),e({type:"USER_LIST_RESET"})})}},"Logout")):r.a.createElement(v.LinkContainer,{to:"/login"},r.a.createElement(I.a.Link,null,r.a.createElement("i",{className:"fas fa-user"}),"Login"," ")),a&&a.isAdmin&&r.a.createElement(C.a,{title:"Admin",id:"adminmenu"},r.a.createElement(v.LinkContainer,{to:"/admin/userList"},r.a.createElement(C.a.Item,null,"Users")),r.a.createElement(v.LinkContainer,{to:"/admin/productlist"},r.a.createElement(C.a.Item,null,"Products")),r.a.createElement(v.LinkContainer,{to:"/admin/orderlist"},r.a.createElement(C.a.Item,null,"Orders"))))))))},U=t(97),A=t(66);var P=function(){return r.a.createElement("footer",null,r.a.createElement(S.a,null,r.a.createElement(U.a,null,r.a.createElement(A.a,{className:"text-center py-3"},"Copyright \xa9 KachaMorich"))))},j=t(105);var k=function(e){let{value:a,text:t,color:n}=e;return r.a.createElement("div",{className:"rating"},r.a.createElement("span",null,r.a.createElement("i",{style:{color:n},className:a>=1?"fas fa-star":a>=.5?"fas fa-star-half-alt":"far fa-star"})),r.a.createElement("span",null,r.a.createElement("i",{style:{color:n},className:a>=2?"fas fa-star":a>=1.5?"fas fa-star-half-alt":"far fa-star"})),r.a.createElement("span",null,r.a.createElement("i",{style:{color:n},className:a>=3?"fas fa-star":a>=2.5?"fas fa-star-half-alt":"far fa-star"})),r.a.createElement("span",null,r.a.createElement("i",{style:{color:n},className:a>=4?"fas fa-star":a>=3.5?"fas fa-star-half-alt":"far fa-star"})),r.a.createElement("span",null,r.a.createElement("i",{style:{color:n},className:a>=5?"fas fa-star":a>=4.5?"fas fa-star-half-alt":"far fa-star"})),r.a.createElement("span",null,t&&t))};var N=function(e){let{product:a}=e;return r.a.createElement(j.a,{className:"my-3 p-3 rounded"},r.a.createElement(_.Link,{to:"/product/".concat(a._id)},r.a.createElement(j.a.Img,{src:a.image})),r.a.createElement(j.a.Body,null,r.a.createElement(_.Link,{to:"/product/".concat(a._id)},r.a.createElement(j.a.Title,{as:"div"},r.a.createElement("strong",null,a.name))),r.a.createElement(j.a.Text,{as:"div"},r.a.createElement("div",{className:"my-3"},r.a.createElement(k,{value:a.rating,text:"".concat(a.numReviews," Reviews "),color:"#f8e825"}))),r.a.createElement(j.a.Text,{as:"h3"},"BDT",a.price)))},w=t(98);var F=function(){return r.a.createElement(w.a,{animation:"border",role:"status",style:{height:"100px",width:"100px",margin:"auto",display:"block"}},r.a.createElement("span",{className:"sr-only"},"Loading..."))};const G=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return async a=>{try{a({type:"PRODUCT_LIST_REQUEST"});const{data:t}=await O.a.get("/api/products".concat(e));a({type:"PRODUCT_LIST_SUCCESS",payload:t})}catch(t){a({type:"PRODUCT_LIST_FAIL",payload:t.response&&t.response.data.detail?t.response.data.detail:t.message})}}},x=e=>async a=>{try{a({type:"PRODUCT_DETAILS_REQUEST"});const{data:t}=await O.a.get("/api/products/".concat(e));a({type:"PRODUCT_DETAILS_SUCCESS",payload:t})}catch(t){a({type:"PRODUCT_DETAILS_FAIL",payload:t.response&&t.response.data.detail?t.response.data.detail:t.message})}};var M=t(107);var Q=function(e){let{variant:a,children:t}=e;return r.a.createElement(M.a,{variant:a},t)},B=t(109);var V=function(e){let{pages:a,page:t,keyword:n="",isAdmin:l=!1}=e;return a>1&&r.a.createElement(B.a,null,[...Array(a).keys()].map(e=>r.a.createElement(v.LinkContainer,{key:e+1,to:"/?keyword=".concat(n,"&page=").concat(e+1)},r.a.createElement(B.a.Item,{active:e+1==t},e+1))))},q=t(106),Y=t(99);var z=function(){const e=Object(o.b)(),a=Object(o.c)(e=>e.productTopRated),{error:t,loading:l,products:c}=a;return Object(n.useEffect)(()=>{e(async e=>{try{e({type:"PRODUCT_TOP_REQUEST"});const{data:a}=await O.a.get("/api/products/top/");e({type:"PRODUCT_TOP_SUCCESS",payload:a})}catch(t){e({type:"PRODUCT_TOP_FAIL",payload:t.response&&t.response.data.detail?t.response.data.detail:t.message})}})},[e]),l?r.a.createElement(F,null):t?r.a.createElement(Q,{variant:"danger"},t):r.a.createElement(q.a,{pause:"hover",className:"bg-blue"},c.map(e=>r.a.createElement(q.a.Item,{key:e._id},r.a.createElement(_.Link,{to:"/product/".concat(e._id)},r.a.createElement(Y.a,{src:e.image,alt:e.name,fluid:!0}),r.a.createElement(q.a.Caption,{className:"carousel.caption"},r.a.createElement("h4",null,e.name," (\u09f3",e.price,")"," "))))))};var J=function(){const e=Object(o.b)(),a=Object(o.c)(e=>e.productList),{error:t,loading:l,products:c,page:s,pages:i}=a,[E]=Object(_.useSearchParams)();let m=E.get("keyword");return Object(n.useEffect)(()=>{e(G("/?keyword=".concat(m)))},[e,m]),r.a.createElement("div",null,!m&&r.a.createElement(z,null),r.a.createElement("h1",null,"Latest Products"),l?r.a.createElement(F,null):t?r.a.createElement(Q,{variant:"danger"},t):r.a.createElement("div",null,r.a.createElement(U.a,null,c.map(e=>r.a.createElement(A.a,{key:e._id,sm:12,md:6,lg:4,xl:3},r.a.createElement(N,{product:e})))),r.a.createElement(V,{page:s,pages:i,keyword:m})))},W=t(100),H=t(69);var K=function(){const[e,a]=Object(n.useState)(1),[t,l]=Object(n.useState)(0),[c,s]=Object(n.useState)(""),{id:i}=Object(h.I)(),E=Object(h.D)(),m=Object(o.b)(),u=Object(o.c)(e=>e.productDetails),{loading:d,error:p,product:g}=u,y=Object(o.c)(e=>e.userLogin),{userInfo:S}=y,R=Object(o.c)(e=>e.productReviewCreate),{loading:I,error:C,success:v}=R;return Object(n.useEffect)(()=>{v&&(l(0),s(""),m({type:"PRODUCT_CREATE_REVIEW_RESET"})),m(x(i))},[m,i,v]),r.a.createElement("div",null,r.a.createElement(_.Link,{to:"/",className:"btn btn-light my-3"},"Go Back"),d?r.a.createElement(F,null):p?r.a.createElement(Q,{variant:"danger"},p):r.a.createElement("div",null,r.a.createElement(U.a,null,r.a.createElement(A.a,{md:6},r.a.createElement(Y.a,{src:g.image,alt:g.name,fluid:!0})),r.a.createElement(A.a,{md:3},r.a.createElement(W.a,{variant:"flust"},r.a.createElement(W.a.Item,null,r.a.createElement("h3",null,g.name)),r.a.createElement(W.a.Item,null,r.a.createElement(k,{value:g.rating,text:"".concat(g.numReviews,"  Ratings"),color:"#f8e825"})),r.a.createElement(W.a.Item,null,"Price :\u09f3",g.price),r.a.createElement(W.a.Item,null,"Description : ",g.description))),r.a.createElement(A.a,{md:3},r.a.createElement(j.a,null,r.a.createElement(W.a,{variant:"flush"},r.a.createElement(W.a.Item,null,r.a.createElement(U.a,null,r.a.createElement(A.a,null,"Price: "),r.a.createElement(A.a,null,r.a.createElement("strong",null," \u09f3 ",g.price)))),r.a.createElement(W.a.Item,null,r.a.createElement(U.a,null,r.a.createElement(A.a,null,"Status: "),r.a.createElement(A.a,null,g.countInStock>0?"In Stock":"out of stock"))),g.countInStock>0&&r.a.createElement(H.a,null,r.a.createElement(U.a,null,r.a.createElement(A.a,null,"Qty"),r.a.createElement(A.a,{xs:"auto",className:"my-1"},r.a.createElement(b.a.Control,{as:"select",value:e,onChange:e=>a(e.target.value)},[...Array(g.countInStock).keys()].map(e=>r.a.createElement("option",{key:e+1,value:e+1},e+1)))))),r.a.createElement(W.a.Item,null,r.a.createElement(f.a,{onClick:()=>{E("/cart/".concat(i,"?qty=").concat(e," "))},className:"btn-block",disabled:0==g.countInStock,type:"button"},"Add to Cart")))))),r.a.createElement(U.a,null,r.a.createElement(A.a,{md:6},r.a.createElement("h4",null,"Reviews"),0===g.reviews.length&&r.a.createElement(Q,{variant:"info"},"No Reviews"),r.a.createElement(W.a,{variant:"flust"},g.reviews.map(e=>r.a.createElement(W.a.Item,{key:e._id},r.a.createElement("strong",null,e.name),r.a.createElement(k,{value:e.rating,color:"#f8e825"}),r.a.createElement("p",null,e.createdAt.substring(0,10)),r.a.createElement("p",null,e.comment))),r.a.createElement(W.a.Item,null,r.a.createElement("h4",null," Write a review "),I&&r.a.createElement(F,null),v&&r.a.createElement(Q,{variant:"success"},"Review Submitted"),C&&r.a.createElement(Q,{variant:"danger"},C),S?r.a.createElement(b.a,{onSubmit:e=>{var a,n;e.preventDefault(),m((a=i,n={rating:t,comment:c},async(e,t)=>{try{e({type:"PRODUCT_CREATE_REVIEW_REQUEST"});const{userLogin:{userInfo:r}}=t(),l={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(r.token)}},{data:c}=await O.a.post("/api/products/".concat(a,"/reviews/"),n,l);e({type:"PRODUCT_CREATE_REVIEW_SUCCESS",payload:c})}catch(p){e({type:"PRODUCT_CREATE_REVIEW_FAIL",payload:p.response&&p.response.data.detail?p.response.data.detail:p.message})}}))}},r.a.createElement(b.a.Group,{controlId:"rating"},r.a.createElement(b.a.Label,null,"Rating"),r.a.createElement(b.a.Control,{as:"select",value:t,onChange:e=>l(e.target.value)},r.a.createElement("option",{value:""}," Select ... "),r.a.createElement("option",{value:"1"}," 1 - Poor "),r.a.createElement("option",{value:"2"}," 2 - Fair "),r.a.createElement("option",{value:"3"}," 3 - Good "),r.a.createElement("option",{value:"4"}," 4 - Very good "),r.a.createElement("option",{value:"5"}," 5 - Excellent "))),r.a.createElement(b.a.Group,{controlId:"comment"},r.a.createElement(b.a.Label,null,"Review"),r.a.createElement(b.a.Control,{as:"textarea",row:"5",value:c,onChange:e=>s(e.target.value)})),r.a.createElement(f.a,{disabled:I,type:"submit",variant:"primary"},"Submit")):r.a.createElement(Q,{variant:"info"},"Please ",r.a.createElement(_.Link,{to:"/login"}," Login ")," to write a review")))))))};const X=(e,a)=>async(t,n)=>{const{data:r}=await O.a.get("/api/products/".concat(e));t({type:"CART_ADD_ITEM",payload:{product:r._id,name:r.name,image:r.image,price:r.price,countInStock:r.countInStock,qty:a}}),localStorage.setItem("cartItems",JSON.stringify(n().cart.cartItems))};var Z=function(){const{id:e}=Object(h.I)(),a=Object(h.A)(),t=a.search?Number(a.search.split("=")[1]):1,l=Object(o.b)(),c=Object(h.D)(),s=Object(o.c)(e=>e.userLogin),{userInfo:i}=s,E=Object(o.c)(e=>e.cart),{cartItems:m}=E;Object(n.useEffect)(()=>{e&&l(X(e,t))},[l,e,t]);const u=e=>{l((e=>(a,t)=>{a({type:"CART_REMOVE_ITEM",payload:e}),localStorage.setItem("cartItems",JSON.stringify(t().cart.cartItems))})(e))};return r.a.createElement(U.a,null,r.a.createElement(A.a,{md:8},r.a.createElement("h1",null,"Shopping Cart"),0===m.length?r.a.createElement(Q,{variant:"info"},"Your Cart is Empty ",r.a.createElement(_.Link,{to:"/"},"Go Back")):r.a.createElement(W.a,{variant:"flush"},m.map(e=>r.a.createElement(W.a.Item,{key:e.product},r.a.createElement(U.a,null,r.a.createElement(A.a,{md:2},r.a.createElement(Y.a,{src:e.image,alt:e.name,fluid:!0,rounded:!0})),r.a.createElement(A.a,{md:3},r.a.createElement(_.Link,{to:"/product/".concat(e.product)},e.name)),r.a.createElement(A.a,{md:2},"\u09f3",e.price),r.a.createElement(A.a,{md:3},r.a.createElement(b.a.Control,{as:"select",value:e.qty,onChange:a=>l(X(e.product,Number(a.target.value)))},[...Array(e.countInStock).keys()].map(e=>r.a.createElement("option",{key:e+1,value:e+1},e+1)))),r.a.createElement(A.a,{md:1},r.a.createElement(f.a,{type:"button",variant:"light",onClick:()=>u(e.product)},r.a.createElement("i",{className:"fas fa-trash"})))))))),r.a.createElement(A.a,{md:4},r.a.createElement(j.a,null,r.a.createElement(W.a,{variant:"flush"},r.a.createElement(W.a.Item,null,r.a.createElement("h2",null,"Subtotal (",m.reduce((e,a)=>e+a.qty,0),") items"," "),"\u09f3",m.reduce((e,a)=>e+a.qty*a.price,0).toFixed(2))),r.a.createElement(W.a.Item,null,r.a.createElement(f.a,{type:"button",className:"btn-block",disabled:0===m.length,onClick:()=>{c(i?"/shipping":"/login?redirect=/shipping")}},"Proceed To checkout")))))};var $=function(e){let{children:a}=e;return r.a.createElement(S.a,null,r.a.createElement(U.a,{className:"justify-content-md-center"},r.a.createElement(A.a,{xs:12,md:6},a)))};var ee=function(){const[e,a]=Object(n.useState)(""),[t,l]=Object(n.useState)(""),c=Object(o.b)(),s=Object(h.A)(),i=Object(h.D)(),E=s.search?s.search.split("=")[1]:"/",m=Object(o.c)(e=>e.userLogin),{error:u,loading:d,userInfo:p}=m;return Object(n.useEffect)(()=>{p&&i(E)},[i,p,E]),r.a.createElement($,{className:"form-container"},r.a.createElement("h1",null,"Sign In"),u&&r.a.createElement(Q,{variant:"danger"},u),d&&r.a.createElement(F,null),r.a.createElement(b.a,{onSubmit:a=>{a.preventDefault(),c(((e,a)=>async t=>{try{t({type:"USER_LOGIN_REQUEST"});const n={headers:{"Content-type":"application/json"}},{data:r}=await O.a.post("/api/users/login/",{username:e,password:a},n);t({type:"USER_LOGIN_SUCCESS",payload:r}),localStorage.setItem("userInfo",JSON.stringify(r))}catch(u){t({type:"USER_LOGIN_FAIL",payload:u.response&&u.response.data.detail?u.response.data.detail:u.message})}})(e,t))}},r.a.createElement(b.a.Group,{controlId:"email"},r.a.createElement(b.a.Label,null,"Email Address"),r.a.createElement(b.a.Control,{type:"email",placeholder:"Enter Email",value:e,onChange:e=>a(e.target.value)})),r.a.createElement(b.a.Group,{controlId:"Password"},r.a.createElement(b.a.Label,null,"Password"),r.a.createElement(b.a.Control,{type:"password",placeholder:"Enter Password",value:t,onChange:e=>l(e.target.value)})),r.a.createElement(f.a,{type:"submit",variant:"primary",style:{marginBottom:"20px"}},"Sign In")),r.a.createElement(U.a,{className:"py-3"},r.a.createElement(A.a,null,"New Customer ?",r.a.createElement(_.Link,{to:E?"/register?redirect=".concat(E):"/register"},"Register"))))};var ae=function(){const[e,a]=Object(n.useState)(""),[t,l]=Object(n.useState)(""),[c,s]=Object(n.useState)(""),[i,E]=Object(n.useState)(""),[m,u]=Object(n.useState)(""),d=Object(o.b)(),p=Object(h.A)(),g=Object(h.D)(),y=p.search?p.search.split("=")[1]:"/",S=Object(o.c)(e=>e.userRegister),{error:R,loading:I,userInfo:C}=S;return Object(n.useEffect)(()=>{C&&g(y)},[g,C,y]),r.a.createElement($,null,r.a.createElement("h1",null,"Register"),m&&r.a.createElement(Q,{variant:"danger"},m),R&&r.a.createElement(Q,{variant:"danger"},R),I&&r.a.createElement(F,null),r.a.createElement(b.a,{onSubmit:a=>{a.preventDefault(),c!=i?u("Passwords Do Not Match"):d(((e,a,t)=>async n=>{try{n({type:"USER_REGISTER_REQUEST"});const r={headers:{"Content-type":"application/json"}},{data:l}=await O.a.post("/api/users/register/",{name:e,email:a,password:t},r);n({type:"USER_REGISTER_SUCCESS",payload:l}),n({type:"USER_LOGIN_SUCCESS",payload:l}),localStorage.setItem("userInfo",JSON.stringify(l))}catch(R){n({type:"USER_REGISTER_FAIL",payload:R.response&&R.response.data.detail?R.response.data.detail:R.message})}})(e,t,c))}},r.a.createElement(b.a.Group,{controlId:"name"},r.a.createElement(b.a.Label,null,"Name"),r.a.createElement(b.a.Control,{required:!0,type:"Name",placeholder:"Enter Name",value:e,onChange:e=>a(e.target.value)})),r.a.createElement(b.a.Group,{controlId:"email"},r.a.createElement(b.a.Label,null,"Email Address"),r.a.createElement(b.a.Control,{required:!0,type:"email",placeholder:"Enter Email",value:t,onChange:e=>l(e.target.value)})),r.a.createElement(b.a.Group,{controlId:"Password"},r.a.createElement(b.a.Label,null,"Password"),r.a.createElement(b.a.Control,{required:!0,type:"password",placeholder:"Enter Password",value:c,onChange:e=>s(e.target.value)})),r.a.createElement(b.a.Group,{controlId:"PasswordConfirm"},r.a.createElement(b.a.Label,null,"Confirm Password"),r.a.createElement(b.a.Control,{required:!0,type:"password",placeholder:"Confirm Password",value:i,onChange:e=>E(e.target.value)})),r.a.createElement(f.a,{type:"submit",variant:"primary",style:{marginBottom:"20px"}},"Register")),r.a.createElement(U.a,{className:"py-3"},r.a.createElement(A.a,null,"Have an account ?",r.a.createElement(_.Link,{to:y?"/login?redirect=".concat(y):"/login"},"Sign In"))))},te=t(101);var ne=function(){const[e,a]=Object(n.useState)(""),[t,l]=Object(n.useState)(""),[c,s]=Object(n.useState)(""),[i,E]=Object(n.useState)(""),[m,u]=Object(n.useState)(""),d=Object(o.b)(),p=(Object(h.A)(),Object(h.D)()),g=Object(o.c)(e=>e.userDetails),{error:y,loading:S,user:_}=g,R=Object(o.c)(e=>e.userLogin),{userInfo:I}=R,C=Object(o.c)(e=>e.userUpdateProfile),{success:T}=C,D=Object(o.c)(e=>e.orderListMy),{loading:P,error:j,orders:k}=D;return Object(n.useEffect)(()=>{I?_&&_.name&&!T&&I._id===_._id?(a(_.name),l(_.email)):(d({type:"USER_UPDATE_PROFILE_RESET"}),d(L("profile")),d(async(e,a)=>{try{e({type:"ORDER_LIST_MY_REQUEST "});const{userLogin:{userInfo:t}}=a(),n={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(t.token)}},{data:r}=await O.a.get("/api/orders/myorders/",n);e({type:"ORDER_LIST_MY_SUCCESS ",payload:r})}catch(y){e({type:"ORDER_LIST_MY_FAIL",payload:y.response&&y.response.data.detail?y.response.data.detail:y.message})}})):p("/login")},[d,p,I,_,T]),r.a.createElement(U.a,null,r.a.createElement(A.a,{md:3},r.a.createElement("h2",null,"User Profile"),m&&r.a.createElement(Q,{variant:"danger"},m),y&&r.a.createElement(Q,{variant:"danger"},y),S&&r.a.createElement(F,null),r.a.createElement(b.a,{onSubmit:a=>{a.preventDefault(),c!=i?u("Passwords Do Not Match"):(d((e=>async(a,t)=>{try{a({type:"USER_UPDATE__PROFILE_REQUEST"});const{userLogin:{userInfo:n}}=t(),r={headers:{"Content-type":"application/json",AUthorization:"Bearer ".concat(n.token)}},{data:l}=await O.a.put("/api/users/profile/update/",e,r);a({type:"USER_UPDATE_PROFILE_SUCCESS",payload:l}),a({type:"USER_LOGIN_SUCCESS",payload:l}),localStorage.setItem("userInfo",JSON.stringify(l))}catch(y){a({type:"USER_UPDATE_PROFILE_FAIL",payload:y.response&&y.response.data.detail?y.response.data.detail:y.message})}})({id:_._id,name:e,email:t,password:c})),u(""))}},r.a.createElement(b.a.Group,{controlId:"name"},r.a.createElement(b.a.Label,null,"Name"),r.a.createElement(b.a.Control,{required:!0,type:"Name",placeholder:"Enter Name",value:e,onChange:e=>a(e.target.value)})),r.a.createElement(b.a.Group,{controlId:"email"},r.a.createElement(b.a.Label,null,"Email Address"),r.a.createElement(b.a.Control,{required:!0,type:"email",placeholder:"Enter Email",value:t,onChange:e=>l(e.target.value)})),r.a.createElement(b.a.Group,{controlId:"Password"},r.a.createElement(b.a.Label,null,"Password"),r.a.createElement(b.a.Control,{type:"password",placeholder:"Enter Password",value:c,onChange:e=>s(e.target.value)})),r.a.createElement(b.a.Group,{controlId:"PasswordConfirm"},r.a.createElement(b.a.Label,null,"Confirm Password"),r.a.createElement(b.a.Control,{type:"password",placeholder:"Confirm Password",value:i,onChange:e=>E(e.target.value)})),r.a.createElement(f.a,{type:"submit",variant:"primary",style:{marginBottom:"20px"}},"Update"))),r.a.createElement(A.a,{md:9},r.a.createElement("h2",null,"My Orders"),P?r.a.createElement(F,null):j?r.a.createElement(Q,{variant:"danger"},j):r.a.createElement(te.a,{striped:!0,responsive:!0,className:"table-sm"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"ID"),r.a.createElement("th",null,"Date"),r.a.createElement("th",null,"Total"),r.a.createElement("th",null,"Paid"),r.a.createElement("th",null,"Delivered"),r.a.createElement("th",null))),r.a.createElement("tbody",null,null===k||void 0===k?void 0:k.map(e=>{var a;return r.a.createElement("tr",{key:e._id},r.a.createElement("td",null,e._id),r.a.createElement("td",null,e.createdAt.substring(0,10)),r.a.createElement("td",null," \u09f3",e.totalPrice),r.a.createElement("td",null,e.isPaid?e.paidAt:r.a.createElement("i",{className:"fas fa-times",style:{color:"red"}})),r.a.createElement("td",null,e.isDelivered?null===(a=e.deliveredAt)||void 0===a?void 0:a.substring(0,10):r.a.createElement("i",{className:"fas fa-times",style:{color:"red"}})),r.a.createElement("td",null,r.a.createElement(v.LinkContainer,{to:"/order/".concat(e._id)},r.a.createElement(f.a,{className:"btn-sm"},"Details"))))})))))};var re=function(e){let{step1:a,step2:t,step3:n,step4:l}=e;return r.a.createElement(I.a,{className:"justify-content-center mb-4"},r.a.createElement(I.a.Item,null,a?r.a.createElement(v.LinkContainer,{to:"/login"},r.a.createElement(I.a.Link,null,"Login")):r.a.createElement(I.a.Link,{disabled:!0},"Login")),r.a.createElement(I.a.Item,null,t?r.a.createElement(v.LinkContainer,{to:"/shipping"},r.a.createElement(I.a.Link,null,"Shipping")):r.a.createElement(I.a.Link,{disabled:!0},"Shipping")),r.a.createElement(I.a.Item,null,n?r.a.createElement(v.LinkContainer,{to:"/payment"},r.a.createElement(I.a.Link,null,"Payment")):r.a.createElement(I.a.Link,{disabled:!0},"Payment")),r.a.createElement(I.a.Item,null,l?r.a.createElement(v.LinkContainer,{to:"/placeorder"},r.a.createElement(I.a.Link,null,"Place Order")):r.a.createElement(I.a.Link,{disabled:!0},"Place Order")))};var le=function(){const e=Object(o.c)(e=>e.cart),{shippingAddress:a}=e,t=Object(o.b)(),[l,c]=Object(n.useState)(a.address),[s,i]=Object(n.useState)(a.city),[E,m]=Object(n.useState)(a.postalCode),[u,d]=Object(n.useState)(a.country),p=Object(h.D)();return r.a.createElement($,null,r.a.createElement(re,{step1:!0,step2:!0}),r.a.createElement("h1",null,"Shipping"),r.a.createElement(b.a,{onSubmit:e=>{var a;e.preventDefault(),t((a={address:l,city:s,postalCode:E,country:u},e=>{e({type:"CART_SAVE_SHIPPING_ADDRESS",payload:a}),localStorage.setItem("shippingAddress",JSON.stringify(a))})),p("/payment")}},r.a.createElement(b.a.Group,{controlId:"address"},r.a.createElement(b.a.Label,null,"Address"),r.a.createElement(b.a.Control,{required:!0,type:"text",placeholder:"Enter Address",value:l||"",onChange:e=>c(e.target.value)})),r.a.createElement(b.a.Group,{controlId:"city"},r.a.createElement(b.a.Label,null,"City"),r.a.createElement(b.a.Control,{required:!0,type:"text",placeholder:"Enter City",value:s||"",onChange:e=>i(e.target.value)})),r.a.createElement(b.a.Group,{controlId:"postalCode"},r.a.createElement(b.a.Label,null,"Postal Code"),r.a.createElement(b.a.Control,{required:!0,type:"text",placeholder:"Enter Postal Code",value:E||"",onChange:e=>m(e.target.value)})),r.a.createElement(b.a.Group,{controlId:"country"},r.a.createElement(b.a.Label,null,"Country"),r.a.createElement(b.a.Control,{required:!0,type:"text",placeholder:"Enter Country",value:u||"",onChange:e=>d(e.target.value)})),r.a.createElement(f.a,{type:"submit",variant:"primary"},"Conitnue")))};var ce=function(){const e=Object(h.D)(),a=Object(o.c)(e=>e.cart),{shippingAddress:t}=a,l=Object(o.b)(),[c,s]=Object(n.useState)("Bkash");return t.address||e("/shipping"),r.a.createElement($,null,r.a.createElement(re,{step1:!0,step2:!0,step3:!0}),r.a.createElement(b.a,{onSubmit:a=>{var t;a.preventDefault(),l((t=c,e=>{e({type:"CART_SAVE_PAYMENT_METHOD",payload:t}),localStorage.setItem("paymentMethod",JSON.stringify(t))})),e("/placeorder")}},r.a.createElement(b.a.Group,null,r.a.createElement(b.a.Label,{as:"legend"},"Select Method"),r.a.createElement(A.a,null,r.a.createElement(b.a.Check,{type:"radio",label:"Bkash",id:"Bkash",name:"paymentMethod",checked:!0,onChange:e=>s(e.target.value)}))),r.a.createElement(f.a,{type:"submit",variant:"primary"},"Conitnue")))};var oe=function(){const e=Object(o.c)(e=>e.orderCreate),{order:a,error:t,success:l}=e,c=Object(o.b)(),s=Object(h.D)(),i=Object(o.c)(e=>e.cart);return i.itemsPrice=i.cartItems.reduce((e,a)=>e+a.price*a.qty,0).toFixed(2),i.shippingPrice=(i.itemsPrice>100?0:10).toFixed(2),i.taxPrice=(.05*i.itemsPrice).toFixed(2),i.totalPrice=(Number(i.itemsPrice)+Number(i.shippingPrice)+Number(i.taxPrice)).toFixed(2),i.paymentMethod||s("/payment"),Object(n.useEffect)(()=>{l&&(s("/order/".concat(a._id)),c({type:"ORDER_CREATE_RESET"}))},[l,s]),r.a.createElement("div",null,r.a.createElement(re,{step1:!0,step2:!0,step3:!0,step4:!0}),r.a.createElement(U.a,null,r.a.createElement(A.a,{md:8},r.a.createElement(W.a,{variant:"flush"},r.a.createElement(W.a.Item,null,r.a.createElement("h2",null,"Shipping"),r.a.createElement("p",null,r.a.createElement("strong",null,"Shipping: "),i.shippingAddress.address,i.shippingAddress.city," ",i.shippingAddress.postalCode,","," ",i.shippingAddress.country)),r.a.createElement(W.a.Item,null,r.a.createElement("h2",null,"Payment Method"),r.a.createElement("p",null,r.a.createElement("strong",null,"Method: "),i.paymentMethod)),r.a.createElement(W.a.Item,null,r.a.createElement("h2",null,"Order Items"),0===i.cartItems.length?r.a.createElement(Q,{variant:"info"},"Your cart is Empty"):r.a.createElement(W.a,{variant:"flush"},i.cartItems.map((e,a)=>r.a.createElement(W.a.Item,{key:a},r.a.createElement(U.a,null,r.a.createElement(A.a,{md:1},r.a.createElement(Y.a,{src:e.image,alt:e.name,fluid:!0,rounded:!0})),r.a.createElement(A.a,null,r.a.createElement(_.Link,{to:"/product/".concat(e.product)},e.name)),r.a.createElement(A.a,{md:4},e.qty," X \u09f3",e.price," = \u09f3",(e.qty*e.price).toFixed(2))))))))),r.a.createElement(A.a,{md:4},r.a.createElement(j.a,null,r.a.createElement(W.a,{variant:"flush"},r.a.createElement(W.a.Item,null,r.a.createElement("h2",null,"Order Summary")),r.a.createElement(W.a.Item,null,r.a.createElement(U.a,null,r.a.createElement(A.a,null," Items :"),r.a.createElement(A.a,null," \u09f3",i.itemsPrice))),r.a.createElement(W.a.Item,null,r.a.createElement(U.a,null,r.a.createElement(A.a,null," Shipping :"),r.a.createElement(A.a,null," \u09f3",i.shippingPrice))),r.a.createElement(W.a.Item,null,r.a.createElement(U.a,null,r.a.createElement(A.a,null," Tax :"),r.a.createElement(A.a,null," \u09f3",i.taxPrice))),r.a.createElement(W.a.Item,null,r.a.createElement(U.a,null,r.a.createElement(A.a,null," Total :"),r.a.createElement(A.a,null," \u09f3",i.totalPrice))),r.a.createElement(W.a.Item,null,t&&r.a.createElement(Q,{variant:"danger"},t)),r.a.createElement(W.a.Item,null,r.a.createElement(f.a,{type:"button",className:"btn-block",disabled:0===i.cartItems,onClick:()=>{c((e=>async(a,n)=>{try{a({type:"ORDER_CREATE_REQUEST"});const{userLogin:{userInfo:t}}=n(),r={headers:{"Content-type":"application/json",AUthorization:"Bearer ".concat(t.token)}},{data:l}=await O.a.post("/api/orders/add/",e,r);a({type:"ORDER_CREATE_SUCCESS",payload:l}),a({type:"CART_CLEAR_ITEMS",payload:l}),localStorage.removeItem("cartItems")}catch(t){a({type:"ORDER_CREATE_FAIL",payload:t.response&&t.response.data.detail?t.response.data.detail:t.message})}})({orderItems:i.cartItems,shippingAddress:i.shippingAddress,paymentMethod:i.paymentMethod,itemsPrice:i.itemsPrice,shippingPrice:i.shippingPrice,taxPrice:i.taxPrice,totalPrice:i.totalPrice}))}},"Place Order")))))))};var se=function(){const{id:e}=Object(h.I)(),a=Object(o.b)(),t=Object(o.c)(e=>e.orderDetails),{order:l,error:c,loading:s}=t,i=Object(o.c)(e=>e.orderDeliver),{loading:E,success:m}=i,u=Object(o.c)(e=>e.userLogin),{userInfo:d}=u,p=Object(h.D)();return s||c||(l.itemsPrice=l.orderItems.reduce((e,a)=>e+a.price*a.qty,0).toFixed(2)),Object(n.useEffect)(()=>{d||p("/login"),l&&l._id===Number(e)&&!m||(a({type:"ORDER_DELIVER_RESET"}),a((e=>async(a,t)=>{try{a({type:"ORDER_DETAILS_REQUEST "});const{userLogin:{userInfo:n}}=t(),r={headers:{"Content-type":"application/json",AUthorization:"Bearer ".concat(n.token)}},{data:l}=await O.a.get("/api/orders/".concat(e,"/"),r);a({type:"ORDER_DETAILS_SUCCESS ",payload:l})}catch(c){a({type:"ORDER_DETAILS_FAIL",payload:c.response&&c.response.data.detail?c.response.data.detail:c.message})}})(e)))},[a,l,e,m]),s?r.a.createElement(F,null):c?r.a.createElement(Q,{variant:"danger"},c):r.a.createElement("div",null,r.a.createElement("h1",null,"Order:",l._id),r.a.createElement(U.a,null,r.a.createElement(A.a,{md:8},r.a.createElement(W.a,{variant:"flush"},r.a.createElement(W.a.Item,null,r.a.createElement("h2",null,"Shipping"),r.a.createElement("p",null,r.a.createElement("strong",null,"Name: "),l.user.name),r.a.createElement("p",null,r.a.createElement("strong",null,"Email: "),r.a.createElement("a",{href:"mailto:".concat(l.user.email)}," ",l.user.email," ")),r.a.createElement("p",null,r.a.createElement("strong",null,"Shipping: "),l.shippingAddress.address,l.shippingAddress.city," ",l.shippingAddress.postalCode,","," ",l.shippingAddress.country),l.isDelivered?r.a.createElement(Q,{variant:"success"},"Delivered on",l.deliveredAt):r.a.createElement(Q,{variant:"warning"},"Not Delivered")),r.a.createElement(W.a.Item,null,r.a.createElement("h2",null,"Payment Method"),r.a.createElement("p",null,r.a.createElement("strong",null,"Method: "),l.paymentMethod),l.isPaid?r.a.createElement(Q,{variant:"success"},"Paid on",l.paidAt):r.a.createElement(Q,{variant:"warning"},"Not Paid")),r.a.createElement(W.a.Item,null,r.a.createElement("h2",null,"Order Items"),0===Number(l.orderItems.length)?r.a.createElement(Q,{variant:"info"},"Order is Empty"):r.a.createElement(W.a,{variant:"flush"},l.orderItems.map((e,a)=>r.a.createElement(W.a.Item,{key:a},r.a.createElement(U.a,null,r.a.createElement(A.a,{md:1},r.a.createElement(Y.a,{src:e.image,alt:e.name,fluid:!0,rounded:!0})),r.a.createElement(A.a,null,r.a.createElement(_.Link,{to:"/product/".concat(e.product)},e.name)),r.a.createElement(A.a,{md:4},e.qty," X \u09f3",e.price," = \u09f3",(e.qty*e.price).toFixed(2))))))))),r.a.createElement(A.a,{md:4},r.a.createElement(j.a,null,r.a.createElement(W.a,{variant:"flush"},r.a.createElement(W.a.Item,null,r.a.createElement("h2",null,"Order Summary")),r.a.createElement(W.a.Item,null,r.a.createElement(U.a,null,r.a.createElement(A.a,null," Items :"),r.a.createElement(A.a,null," \u09f3",l.itemsPrice))),r.a.createElement(W.a.Item,null,r.a.createElement(U.a,null,r.a.createElement(A.a,null," Shipping :"),r.a.createElement(A.a,null," \u09f3",l.shippingPrice))),r.a.createElement(W.a.Item,null,r.a.createElement(U.a,null,r.a.createElement(A.a,null," Tax :"),r.a.createElement(A.a,null," \u09f3",l.taxPrice))),r.a.createElement(W.a.Item,null,r.a.createElement(U.a,null,r.a.createElement(A.a,null," Total :"),r.a.createElement(A.a,null," \u09f3",l.totalPrice)))),r.a.createElement(f.a,{id:"bKash_button",disabled:"disabled"},"Pay With bKash"),E&&r.a.createElement(F,null),d&&d.isAdmin&&!l.isDelivered&&r.a.createElement(W.a.Item,null,r.a.createElement(f.a,{type:"button",className:"btn btn-block",onClick:()=>{a((e=>async(a,t)=>{try{a({type:"ORDER_DELIVER_REQUEST "});const{userLogin:{userInfo:n}}=t(),r={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(n.token)}},{data:l}=await O.a.put("/api/orders/".concat(e._id,"/deliver/"),{},r);a({type:"ORDER_DELIVER_SUCCESS ",payload:l})}catch(c){a({type:"ORDER_DELIVER_FAIL",payload:c.response&&c.response.data.detail?c.response.data.detail:c.message})}})(l))}},"Mark As Deliver"))))))};var ie=function(){const e=Object(h.D)(),a=Object(o.b)(),t=Object(o.c)(e=>e.userList),{loading:l,error:c,users:s}=t,i=Object(o.c)(e=>e.userLogin),{userInfo:E}=i,m=Object(o.c)(e=>e.userDelete),{success:u}=m;Object(n.useEffect)(()=>{E&&E.isAdmin?a(async(e,a)=>{try{e({type:"USER_LIST_REQUEST"});const{userLogin:{userInfo:t}}=a(),n={headers:{"Content-type":"application/json",AUthorization:"Bearer ".concat(t.token)}},{data:r}=await O.a.get("/api/users/",n);e({type:"USER_LIST_SUCCESS",payload:r})}catch(c){e({type:"USER_LIST_FAIL",payload:c.response&&c.response.data.detail?c.response.data.detail:c.message})}}):e("/login")},[a,e,u,E]);const d=e=>{window.confirm("Are you Sure ?")&&a((e=>async(a,t)=>{try{a({type:"USER_DELETE_REQUEST"});const{userLogin:{userInfo:n}}=t(),r={headers:{"Content-type":"application/json",AUthorization:"Bearer ".concat(n.token)}},{data:l}=await O.a.delete("/api/users/delete/".concat(e,"/"),r);a({type:"USER_DELETE_SUCCESS",payload:l})}catch(c){a({type:"USER_DELETE_FAIL",payload:c.response&&c.response.data.detail?c.response.data.detail:c.message})}})(e))};return r.a.createElement("div",null,r.a.createElement("h1",null,"Users"),l?r.a.createElement(F,null):c?r.a.createElement(Q,{variant:"danger"},c):r.a.createElement(te.a,{striped:!0,bordered:!0,hover:!0,responsive:!0,className:"table-sm"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"ID"),r.a.createElement("th",null,"NAME"),r.a.createElement("th",null,"EMAIL"),r.a.createElement("th",null,"ADMIN"),r.a.createElement("th",null))),r.a.createElement("tbody",null,s.map(e=>r.a.createElement("tr",{key:e._id},r.a.createElement("td",null,e._id),r.a.createElement("td",null,e.name),r.a.createElement("td",null,e.email),r.a.createElement("td",null,e.isAdmin?r.a.createElement("i",{className:"fas fa-check",style:{color:"green"}}," "):r.a.createElement("i",{className:"fas fa-check",style:{color:"red"}}," ")),r.a.createElement("td",null,r.a.createElement(v.LinkContainer,{to:"/admin/user/".concat(e._id,"/edit")},r.a.createElement(f.a,{variant:"light",className:"btn-sm"},r.a.createElement("i",{className:"fas fa-edit"}))),r.a.createElement(f.a,{variant:"danger",className:"btn-sm",onClick:()=>d(e._id)},r.a.createElement("i",{className:"fas fa-trash"}))))))))};var Ee=function(){const[e,a]=Object(n.useState)(""),[t,l]=Object(n.useState)(""),[c,s]=Object(n.useState)(!1),{id:i}=Object(h.I)(),E=Object(o.b)(),m=(Object(h.A)(),Object(h.D)()),u=Object(o.c)(e=>e.userDetails),{error:d,loading:p,user:g}=u,y=Object(o.c)(e=>e.userUpdate),{error:S,loading:R,success:I}=y;return Object(n.useEffect)(()=>{I?(E({type:"USER_UPDATE_RESET"}),m("/admin/userlist")):g.name&&g._id===Number(i)?(a(g.name),l(g.email),s(g.isAdmin)):E(L(i))},[g,i,I,m]),r.a.createElement("div",null,r.a.createElement(_.Link,{to:"/admin/userlist"},"Go Back"),r.a.createElement($,null,r.a.createElement("h1",null,"Edit User"),R&&r.a.createElement(F,null),S&&r.a.createElement(Q,{variant:"danger"},S),p?r.a.createElement(F,null):d?r.a.createElement(Q,{variant:"danger"},d):r.a.createElement(b.a,{onSubmit:a=>{a.preventDefault(),E((e=>async(a,t)=>{try{a({type:"USER_UPDATE_REQUEST"});const{userLogin:{userInfo:n}}=t(),r={headers:{"Content-type":"application/json",AUthorization:"Bearer ".concat(n.token)}},{data:l}=await O.a.put("/api/users/update/".concat(e._id,"/"),e,r);a({type:"USER_UPDATE_SUCCESS"}),a({type:"USER_DETAILS_SUCCESS",payload:l})}catch(d){a({type:"USER_UPDATE_FAIL",payload:d.response&&d.response.data.detail?d.response.data.detail:d.message})}})({_id:g._id,name:e,email:t,isAdmin:c}))}},r.a.createElement(b.a.Group,{controlId:"name"},r.a.createElement(b.a.Label,null,"Name"),r.a.createElement(b.a.Control,{type:"Name",placeholder:"Enter Name",value:e,onChange:e=>a(e.target.value)})),r.a.createElement(b.a.Group,{controlId:"email"},r.a.createElement(b.a.Label,null,"Email Address"),r.a.createElement(b.a.Control,{type:"email",placeholder:"Enter Email",value:t,onChange:e=>l(e.target.value)})),r.a.createElement(b.a.Group,{controlId:"isAdmin"},r.a.createElement(b.a.Check,{type:"checkbox",label:"Is Admin",checked:c,onChange:e=>s(e.target.checked)})),r.a.createElement(f.a,{type:"submit",variant:"primary",style:{marginBottom:"20px"}},"Update"))))};var me=function(){const e=Object(h.D)(),{id:a}=Object(h.I)(),t=Object(o.b)(),l=Object(o.c)(e=>e.productList),{loading:c,error:s,products:i}=l,E=Object(o.c)(e=>e.productDelete),{loading:m,error:u,success:d}=E,p=Object(o.c)(e=>e.productCreate),{loading:g,error:y,success:S,product:_}=p,R=Object(o.c)(e=>e.userLogin),{userInfo:I}=R;Object(n.useEffect)(()=>{t({type:"PRODUCT_CREATE_RESET"}),I.isAdmin||e("/login"),S?e("/admin/product/".concat(_._id,"/edit")):t(G())},[t,e,I,d,S,_]);const C=e=>{window.confirm("Are you Sure ?")&&t((e=>async(a,t)=>{try{a({type:"PRODUCT_DELETE_REQUEST"});const{userLogin:{userInfo:n}}=t(),r={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(n.token)}},{data:l}=await O.a.delete("/api/products/delete/".concat(e,"/"),r);a({type:"PRODUCT_DELETE_SUCCESS"})}catch(s){a({type:"PRODUCT_DELETE_FAIL",payload:s.response&&s.response.data.detail?s.response.data.detail:s.message})}})(e))};return r.a.createElement("div",null,r.a.createElement(U.a,{className:"align-items-center"},r.a.createElement(A.a,null,r.a.createElement("h1",null,"Products")),r.a.createElement(A.a,{className:"text-right"},r.a.createElement(f.a,{className:"my-3 position-fixed top-1 end-0",onClick:()=>{t(async(e,a)=>{try{e({type:"PRODUCT_CREATE_REQUEST"});const{userLogin:{userInfo:t}}=a(),n={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(t.token)}},{data:r}=await O.a.post("/api/products/create/",{},n);e({type:"PRODUCT_CREATE_SUCCESS",payload:r})}catch(s){e({type:"PRODUCT_CREATE_FAIL",payload:s.response&&s.response.data.detail?s.response.data.detail:s.message})}})}},r.a.createElement("i",{className:"fas fa-plus"})," Create Product"))),m&&r.a.createElement(F,null),u&&r.a.createElement(Q,{variant:"danger"},u),g&&r.a.createElement(F,null),y&&r.a.createElement(Q,{variant:"danger"},y),c?r.a.createElement(F,null):s?r.a.createElement(Q,{variant:"danger"},s):r.a.createElement(te.a,{striped:!0,bordered:!0,hover:!0,responsive:!0,className:"table-sm"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"ID"),r.a.createElement("th",null,"NAME"),r.a.createElement("th",null,"Price"),r.a.createElement("th",null,"CATEGORY"),r.a.createElement("th",null))),r.a.createElement("tbody",null,i.map(e=>r.a.createElement("tr",{key:e._id},r.a.createElement("td",null,e._id),r.a.createElement("td",null,e.name),r.a.createElement("td",null,"\u09f3 ",e.price),r.a.createElement("td",null,e.category),r.a.createElement("td",null,r.a.createElement(v.LinkContainer,{to:"/admin/product/".concat(e._id,"/edit")},r.a.createElement(f.a,{variant:"light",className:"btn-sm"},r.a.createElement("i",{className:"fas fa-edit"}))),r.a.createElement(f.a,{variant:"danger",className:"btn-sm",onClick:()=>C(e._id)},r.a.createElement("i",{className:"fas fa-trash"}))))))))};var ue=function(){const[e,a]=Object(n.useState)(""),[t,l]=Object(n.useState)(0),[c,s]=Object(n.useState)(""),[i,E]=Object(n.useState)(""),[m,u]=Object(n.useState)(0),[d,p]=Object(n.useState)(""),[g,y]=Object(n.useState)(!1),{id:S}=Object(h.I)(),R=Object(o.b)(),I=Object(h.D)(),C=Object(o.c)(e=>e.productDetails),{error:v,loading:T,product:L}=C,D=Object(o.c)(e=>e.productUpdate),{error:U,loading:A,success:P}=D;return Object(n.useEffect)(()=>{P?(R({type:"PRODUCT_UPDATE_RESET"}),I("/admin/productlist")):L.name&&L._id===Number(S)?(a(L.name),l(L.price),s(L.image),E(L.category),u(L.countInStock),p(L.description)):R(x(S))},[R,L,S,I,P]),r.a.createElement("div",null,r.a.createElement(_.Link,{to:"/admin/productlist"},"Go Back"),r.a.createElement($,null,r.a.createElement("h1",null,"Edit Product"),A&&r.a.createElement(F,null),U&&r.a.createElement(Q,{variant:"danger"}," ",U," "),T?r.a.createElement(F,null):v?r.a.createElement(Q,{variant:"danger"},v):r.a.createElement(b.a,{onSubmit:a=>{a.preventDefault(),R((e=>async(a,t)=>{try{a({type:"PRODUCT_UPDATE_REQUEST"});const{userLogin:{userInfo:n}}=t(),r={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(n.token)}},{data:l}=await O.a.put("/api/products/update/".concat(e._id,"/"),e,r);a({type:"PRODUCT_UPDATE_SUCCESS",payload:l}),a({type:"PRODUCT_DETAILS_SUCCESS",payload:l})}catch(v){a({type:"PRODUCT_UPDATE_FAIL",payload:v.response&&v.response.data.detail?v.response.data.detail:v.message})}})({_id:S,name:e,price:t,image:c,category:i,countInStock:m,description:d}))}},r.a.createElement(b.a.Group,{controlId:"name"},r.a.createElement(b.a.Label,null,"Name"),r.a.createElement(b.a.Control,{type:"text",placeholder:"Enter Name",value:e,onChange:e=>a(e.target.value)})),r.a.createElement(b.a.Group,{controlId:"price"},r.a.createElement(b.a.Label,null,"Price"),r.a.createElement(b.a.Control,{type:"number",placeholder:"Enter Price",value:t,onChange:e=>l(e.target.value)})),r.a.createElement(b.a.Group,{controlId:"image"},r.a.createElement(b.a.Label,null,"Image"),r.a.createElement(b.a.Control,{type:"text",placeholder:"Enter Image",value:c,onChange:e=>s(e.target.value)}),r.a.createElement(b.a.Label,null,"Choose File"),r.a.createElement(b.a.Control,{type:"file",id:"image-file",accept:"image/*",onChange:async e=>{const a=e.target.files[0],t=new FormData;t.append("image",a),t.append("product_id",S),y(!0);try{const e={headers:{"Content-Type":"multipart/form-data"}},{data:a}=await O.a.post("/api/products/upload/",t,e);s(a),y(!1)}catch(v){y(!1)}},disabled:g,custom:!0}),g&&r.a.createElement(F,null)),r.a.createElement(b.a.Group,{controlId:"category"},r.a.createElement(b.a.Label,null,"Category"),r.a.createElement(b.a.Control,{type:"text",placeholder:"Enter Category",value:i,onChange:e=>E(e.target.value)})),r.a.createElement(b.a.Group,{controlId:"countinstock"},r.a.createElement(b.a.Label,null,"Stock"),r.a.createElement(b.a.Control,{type:"number",placeholder:"Enter Stock",value:m,onChange:e=>u(e.target.value)})),r.a.createElement(b.a.Group,{controlId:"description"},r.a.createElement(b.a.Label,null,"Description"),r.a.createElement(b.a.Control,{type:"text",placeholder:"Enter Description",value:d,onChange:e=>p(e.target.value)})),r.a.createElement(f.a,{type:"submit",variant:"primary",style:{marginBottom:"20px"}},"Update"))))};var de=function(){const e=Object(h.D)(),a=Object(o.b)(),t=Object(o.c)(e=>e.orderList),{loading:l,error:c,orders:s}=t,i=Object(o.c)(e=>e.userLogin),{userInfo:E}=i;return Object(n.useEffect)(()=>{E&&E.isAdmin?a(async(e,a)=>{try{e({type:"ORDER_LIST_REQUEST "});const{userLogin:{userInfo:t}}=a(),n={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(t.token)}},{data:r}=await O.a.get("/api/orders/",n);e({type:"ORDER_LIST_SUCCESS ",payload:r})}catch(c){e({type:"ORDER_LIST_FAIL",payload:c.response&&c.response.data.detail?c.response.data.detail:c.message})}}):e("/login")},[a,e,E]),r.a.createElement("div",null,r.a.createElement("h1",null,"Orders"),l?r.a.createElement(F,null):c?r.a.createElement(Q,{variant:"danger"},c):r.a.createElement(te.a,{striped:!0,bordered:!0,hover:!0,responsive:!0,className:"table-sm"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"ID"),r.a.createElement("th",null,"USER"),r.a.createElement("th",null,"DATE"),r.a.createElement("th",null,"TOTAL"),r.a.createElement("th",null,"PAID"),r.a.createElement("th",null,"DELIVERED"),r.a.createElement("th",null))),r.a.createElement("tbody",null,null===s||void 0===s?void 0:s.map(e=>{var a,t;return r.a.createElement("tr",{key:e._id},r.a.createElement("td",null,e._id),r.a.createElement("td",null,e.user&&e.user.name),r.a.createElement("td",null,null===(a=e.createdAt)||void 0===a?void 0:a.substring(0,10)),r.a.createElement("td",null," \u09f3",e.totalPrice),r.a.createElement("td",null," ",e.isPaid,r.a.createElement("i",{className:"fas fa-check",style:{color:"red"}}," ")),r.a.createElement("td",null,e.isDelivered?null===(t=e.deliveredAt)||void 0===t?void 0:t.substring(0,10):r.a.createElement("i",{className:"fas fa-times",style:{color:"red"}})),r.a.createElement("td",null,r.a.createElement(v.LinkContainer,{to:"/order/".concat(e._id)},r.a.createElement(f.a,{variant:"light",className:"btn-sm"},"Details"))))}))))};var pe=function(){return r.a.createElement(_.BrowserRouter,null,r.a.createElement(D,null),r.a.createElement("main",{className:"py-3"},r.a.createElement(S.a,null,r.a.createElement(h.g,null,r.a.createElement(h.e,{path:"/",element:r.a.createElement(J,null)}),r.a.createElement(h.e,{path:"/login",element:r.a.createElement(ee,null)}),r.a.createElement(h.e,{path:"/register",element:r.a.createElement(ae,null)}),r.a.createElement(h.e,{path:"/profile",element:r.a.createElement(ne,null)}),r.a.createElement(h.e,{path:"/shipping",element:r.a.createElement(le,null)}),r.a.createElement(h.e,{path:"/payment",element:r.a.createElement(ce,null)}),r.a.createElement(h.e,{path:"/placeorder",element:r.a.createElement(oe,null)}),r.a.createElement(h.e,{path:"/order/:id",element:r.a.createElement(se,null)}),r.a.createElement(h.e,{path:"/product/:id",element:r.a.createElement(K,null)}),r.a.createElement(h.e,{path:"/cart/:id?",element:r.a.createElement(Z,null)}),r.a.createElement(h.e,{path:"/admin/userlist",element:r.a.createElement(ie,null)}),r.a.createElement(h.e,{path:"/admin/user/:id/edit",element:r.a.createElement(Ee,null)}),r.a.createElement(h.e,{path:"/admin/productlist",element:r.a.createElement(me,null)}),r.a.createElement(h.e,{path:"/admin/product/:id/edit",element:r.a.createElement(ue,null)}),r.a.createElement(h.e,{path:"/admin/orderlist",element:r.a.createElement(de,null)})))),r.a.createElement(P,null))};var ge=e=>{e&&e instanceof Function&&t.e(3).then(t.bind(null,110)).then(a=>{let{getCLS:t,getFID:n,getFCP:r,getLCP:l,getTTFB:c}=a;t(e),n(e),r(e),l(e),c(e)})};c.a.createRoot(document.getElementById("root")).render(r.a.createElement(o.a,{store:y},r.a.createElement(pe,null))),ge()}},[[71,1,2]]]);
//# sourceMappingURL=main.04b65e62.chunk.js.map